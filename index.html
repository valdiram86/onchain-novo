<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>On-Chain SetValues</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"/>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #0e4d3c;
      color: #fff;
    }

    header {
      background-color: #a8d5a0;
      padding: 12px;
      text-align: center;
      font-size: 15px;
      line-height: 1.4em;
      color: #000;
    }

    .update-btn {
      margin: 10px;
      padding: 6px 12px;
      font-size: 14px;
      cursor: pointer;
    }

    .dataTables_wrapper {
      padding: 10px;
    }

    .verde { background-color: #00c853 !important; color: #fff; }
    .amarelo { background-color: #ffeb3b !important; color: #000; }
    .vermelho { background-color: #f44336 !important; color: #fff; }

    .votar {
      font-size: 12px;
      background: #2196f3;
      color: white;
      border: none;
      padding: 3px 8px;
      border-radius: 3px;
      cursor: pointer;
    }

    footer {
      text-align: center;
      padding: 15px;
      background: #000;
      color: #0ff;
      font-size: 13px;
    }
  </style>
</head>
<body>

  <header>
    Entre 1.357 criptos, 90% são ruído. On-Chain SetValues remove o ruído e te mostra onde focar.<br>
    Solicite seu acesso grátis por 24h. Após 24h, R$ 55/mês.<br>
    PIX: <strong>onchainsetvalues@gmail.com</strong> | 10 USDT (BEP20): <strong>0xbd25d74d441e1b265812814a3f1b791769b6ca44</strong>
  </header>

  <div style="text-align:right; padding: 0 10px;">
    <button class="update-btn" onclick="location.reload()">Atualizar</button>
  </div>

  <table id="tabela" class="display nowrap" style="width:100%"></table>

  <footer>
    Isso aqui não é uma bola de cristal. É uma bússola em meio ao garimpo. Aumente suas chances de encontrar a próxima gema.
  </footer>

  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

  <script>
    const url = "https://script.google.com/macros/s/AKfycbw2cKrPFZA695XtufzOF6wIECGOO33ZgM5sIvRoE2VI--2dKmvhaJKj5ZJbXHgdel-MmA/exec";

    async function carregarTabela() {
      const res = await fetch(url);
      const dados = await res.json();

      const colunas = Object.keys(dados[0]).filter(c => c !== "Volume" && c !== "Market Cap");
      colunas.push("Votar");

      const tabelaDados = dados.map(linha => {
        const item = colunas.map(c => {
          if (c === "Link") return `<a href="${linha[c]}" target="_blank">Acessar</a>`;
          return linha[c] || "";
        });

        const score = parseFloat(linha["Pontuação Balanceada"]);
        if (score >= 300) {
          item.push(`<button class="votar">Votar</button>`);
        } else {
          item.push("-");
        }
        return item;
      });

      $('#tabela').DataTable({
        data: tabelaDados,
        columns: colunas.map(c => ({ title: c })),
        paging: false,
        scrollX: true,
        createdRow: function(row, data) {
          const score = parseFloat(data[colunas.indexOf("Pontuação Balanceada")]);
          if (score >= 500) $(row).addClass('verde');
          else if (score >= 300) $(row).addClass('amarelo');
          else if (!isNaN(score) && score > 0) $(row).addClass('vermelho');
        },
        language: {
          url: "//cdn.datatables.net/plug-ins/1.13.4/i18n/pt-BR.json"
        }
      });
    }

    carregarTabela();
  </script>
</body>
</html>
   
    

    
  

    
