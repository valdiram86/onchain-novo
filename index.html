<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>On-Chain SetValues</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.dataTables.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fff;
      color: #111;
      margin: 0;
      padding: 0;
    }

    header {
      background: #cce5ff;
      padding: 14px;
      font-size: 14px;
      line-height: 1.5;
      text-align: center;
    }

    footer {
      background: #eee;
      color: #333;
      text-align: center;
      padding: 10px;
      font-size: 13px;
    }

    #login {
      text-align: center;
      padding: 30px;
    }

    #tabela {
      width: 100%;
      margin: 20px auto;
      display: none;
    }

    input, button {
      padding: 10px;
      font-size: 16px;
    }

    .azul { background-color: #3399ff !important; }
    .verde { background-color: #00ff00 !important; }
    .amarelo { background-color: #ffff00 !important; }
    .rosa-neon { background-color: #ff00ff !important; }
  </style>
</head>
<body>
  <header>
    <strong>Entre 1.357 criptos, 90% são ruído.</strong><br>
    O <strong>On-Chain SetValues</strong> remove o ruído e te mostra onde focar.<br>
    Solicite acesso grátis por 24h: <strong>onchainsetvalues@gmail.com</strong><br>
    Após 24h: R$55 via PIX ou 10 USDT (BEP20) - Chave: <strong>0xbd25d74d441e1b265812814a3f1b791769b6ac44</strong>
  </header>

  <div id="login">
    <p>Digite seu e-mail autorizado:</p>
    <input type="email" id="email" placeholder="seu@email.com">
    <button onclick="verificarEmail()">Entrar</button>
  </div>

  <div style="overflow-x:auto;">
    <table id="tabela" class="display nowrap"></table>
  </div>

  <footer>
    On-Chain SetValues – Um radar que aponta o valor real do universo cripto.
  </footer>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>

  <script>
    const EMAILS_AUTORIZADOS = ["valdiram.lima.2013@gmail.com"];

    function verificarEmail() {
      const email = document.getElementById("email").value.trim();
      if (EMAILS_AUTORIZADOS.includes(email)) {
        document.getElementById("login").style.display = "none";
        document.getElementById("tabela").style.display = "block";
        carregarDados();
      } else {
        alert("Acesso negado. Email não autorizado.");
      }
    }

    function carregarDados() {
      const url = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTSEU-LINK-DA-SUA-PLANILHA/pub?output=csv'; // Substitua pela URL correta

      Papa.parse(url, {
        download: true,
        header: true,
        complete: function(result) {
          const data = result.data;
          const colunas = Object.keys(data[0]);

          $('#tabela').DataTable({
            data: data.map(obj => colunas.map(c => obj[c])),
            columns: colunas.map(c => ({ title: c })),
            scrollX: true,
            scrollCollapse: true,
            paging: false,
            createdRow: function(row, data) {
              const pontuacao = parseFloat(data[17]); // Coluna R = índice 17
              if (pontuacao >= 600) $(row).addClass('azul');
              else if (pontuacao >= 500) $(row).addClass('verde');
              else if (pontuacao >= 300) $(row).addClass('amarelo');
              else if (pontuacao >= 250) $(row).addClass('rosa-neon');
            }
          });
        }
      });
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</body>
</html>
